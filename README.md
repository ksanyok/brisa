# Brisa — BuyReadySite Intelligent System Assistant

Brisa ("Бри́за") — это интеллектуальный ассистент для macOS, живущий в строке меню и выполняющий задачи от имени пользователя при помощи моделей OpenAI и автоматизации браузера/интерфейса. Этот репозиторий содержит исходный код минимально жизнеспособной версии (MVP), описанной в техническом задании.

## Обзор

Brisa предназначена для помощи в повседневных задачах: ассистент слушает голос или текст, понимает намерение, разбивает его на шаги, планирует и выполняет их на отдельном рабочем столе («Agent Space»), не мешая текущей работе пользователя. Взаимодействие с внешним миром выполняется «как человек» — через теневой браузер на базе Chromium и Accessibility API macOS, а обработка команд происходит в реальном времени через `OpenAI Realtime`.

### Основные возможности

- **Меню‑бар** — иконка в статус‑баре и меню с пунктами «Open Brisa», «Clone View», «Tasks», «Settings», «Pause/Resume», «Quit».
- **Реалтайм‑диалог** — оверлей с полем ввода и кнопкой «push‑to‑talk»; низкая задержка с промежуточными репликами через WebRTC.
- **Agent Space** — отдельный рабочий стол, где находится теневой браузер, служебные окна и панель статуса агента.
- **Clone View** — окно‑клон, транслирующее изображение из Agent Space; позволяет перехватить управление или поставить выполнение на паузу.
- **Планировщик и исполнители** — анализирует намерения, строит план и выполняет шаги через три типа исполнителей: Browser CDP (работа с Chromium), UI Executor (Accessibility API) и Shell Executor (CLI‑команды). Для генерации изображений используется OpenAI Image API.
- **Политика подтверждений** — действия высокого риска (публикация, отправка, покупка) требуют явного подтверждения с предварительным просмотром; любые действия можно прервать в Clone View.
- **Хранение логов** — все сессии, намерения, шаги и артефакты (скриншоты, файлы) записываются в SQLite; логи можно экспортировать в JSON/Markdown.
- **Обновления через Sparkle** — приложение проверяет наличие новой версии на GitHub Releases и предлагает установить обновление.

## Структура репозитория

* `BrisaApp/` — исходный код приложения для macOS и модулей (Realtime, Planner, Executors, Security и др.).
* `Docs/` — документация: руководство по установке, гайд для разработчиков, модель безопасности и дорожная карта.
* `Tools/` — вспомогательные скрипты и инструкции (например, загрузка Chromium).
* `.github/` — конфигурация GitHub, в том числе файлы workflow для CI/CD.

Подробнее о назначении папок и файлах смотрите в соответствующих документах внутри директории `Docs/`.

## Начало работы

1. Установите **Xcode 15** или новее на macOS Ventura 13+ (рекомендуется тестировать на macOS 14/15).
2. Клонируйте этот репозиторий:

   ```bash
   git clone https://github.com/youruser/brisa.git
   cd brisa
   ```

3. Откройте репозиторий в **Xcode** напрямую, выбрав файл [`Package.swift`](Package.swift).  
   Начиная с Xcode 15, можно открывать и редактировать проекты, основанные на Swift Package Manager, без наличия `.xcodeproj`.

   Если вам требуется полноценный проект `.xcodeproj`, выполните команду:

   ```bash
   swift package generate-xcodeproj
   ```

   Команда создаст файл `Brisa.xcodeproj` в корне репозитория, который можно открыть в Xcode.
4. Прочитайте `Docs/SETUP.md` для получения инструкций по выдаче необходимых разрешений (микрофон, запись экрана, Accessibility) и добавьте свой ключ API OpenAI в настройках приложения.
5. Соберите и запустите приложение из Xcode или при помощи `swift run`.  
   Первоначальный запуск запросит необходимые разрешения и предложит ввести ключ OpenAI.

## Лицензия

Этот проект распространяется под лицензией MIT. Подробности в файле [LICENSE](LICENSE).